<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>–ù–∞—à–µ –º–µ–Ω—é</title>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f9f9f9;
      --card: #ffffff;
      --text: #1f1f1f;
      --muted: #636363;
      --line: #e6e6e6;
      --accent: #222222;
      --accent-weak: #444444;
      --ok: #0f9d58;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    header {
      position: sticky; top: 0; z-index: 5;
      background: var(--card);
      border-bottom: 1px solid var(--line);
      padding: 14px 16px;
      display: flex; align-items: center; justify-content: center;
      font-family: Marcellus, serif; font-size: 20px;
    }
    .tap-zone {
      position: absolute; right: 0; top: 0; width: 64px; height: 44px;
    }
    .tabs {
      display: flex; gap: 8px; padding: 10px 16px;
      position: sticky; top: 52px; z-index: 4; background: var(--bg);
      border-bottom: 1px solid var(--line);
    }
    .tab {
      padding: 8px 12px; border-radius: 20px; border: 1px solid var(--line);
      background: #fff; color: var(--text); font-size: 14px;
    }
    .tab.active {
      border-color: var(--accent); color: #fff; background: var(--accent);
    }
    .menu {
      padding: 12px 16px 84px;
    }
    .dish {
      display: flex; gap: 12px; align-items: center;
      background: var(--card); border: 1px solid var(--line); border-radius: 12px;
      padding: 10px; margin-bottom: 12px;
    }
    .dish img {
      width: 92px; height: 92px; border-radius: 8px; object-fit: cover; background: #eee;
    }
    .dish-info { flex: 1; min-width: 0; }
    .dish-info h3 {
      margin: 0 0 4px; font-family: Marcellus, serif; font-size: 18px;
    }
    .dish-info p {
      margin: 0; color: var(--muted); font-size: 13px; line-height: 1.35;
    }
    .meta {
      margin-top: 8px; display: flex; align-items: center; justify-content: space-between;
    }
    .price { font-weight: 600; }
    .add-btn {
      padding: 8px 12px; border-radius: 8px; border: none; background: var(--accent);
      color: #fff; font-weight: 600;
    }

    /* Cart bar */
    .cart-bar {
      position: fixed; left: 0; right: 0; bottom: 0; z-index: 6;
      background: var(--accent); color: #fff; padding: 12px 16px;
      display: flex; align-items: center; justify-content: space-between;
    }
    .cart-bar .summary { font-weight: 600; }
    .cart-bar button {
      padding: 8px 12px; border-radius: 8px; border: 1px solid #fff; color: #fff; background: transparent;
    }

    /* Cart modal */
    .modal {
      position: fixed; inset: 0; z-index: 10; display: none;
      align-items: flex-end; background: rgba(0,0,0,0.35);
    }
    .sheet {
      background: var(--card); border-top-left-radius: 12px; border-top-right-radius: 12px;
      width: 100%; max-height: 70vh; overflow: auto; padding: 14px 16px;
      border-top: 1px solid var(--line);
    }
    .sheet h2 { margin: 4px 0 10px; font-family: Marcellus, serif; }
    .cart-item {
      display: grid; grid-template-columns: 1fr auto auto; gap: 10px; align-items: center;
      padding: 8px 0; border-bottom: 1px solid var(--line);
    }
    .qty {
      display: inline-flex; align-items: center; gap: 8px;
      border: 1px solid var(--line); border-radius: 8px; padding: 4px 8px;
    }
    .qty button {
      border: none; background: transparent; font-size: 18px; line-height: 1; padding: 2px 6px; cursor: pointer;
    }
    .confirm {
      margin-top: 12px; width: 100%; padding: 12px; border-radius: 10px; border: none; background: var(--accent);
      color: #fff; font-weight: 700; font-size: 16px;
    }
    .note { margin-top: 8px; color: var(--muted); font-size: 12px; }

    /* Admin overlay */
    .overlay {
      position: fixed; inset: 0; z-index: 20; display: none;
      align-items: center; justify-content: center; background: rgba(0,0,0,0.45);
    }
    .panel {
      width: 92%; max-width: 440px; background: var(--card); border-radius: 12px; padding: 14px 16px;
    }
    .panel h3 { margin: 0 0 10px; font-family: Marcellus, serif; }
    .field { margin-bottom: 10px; }
    .field label { display: block; font-size: 13px; color: var(--muted); margin-bottom: 4px; }
    .field input, .field select, .field textarea {
      width: 100%; padding: 10px; border: 1px solid var(--line); border-radius: 8px; font-size: 14px;
      background: #fff; color: var(--text);
    }
    .img-preview { width: 100%; height: 160px; border: 1px dashed var(--line); border-radius: 8px;
      background: #f1f1f1 center/cover no-repeat; margin-bottom: 8px; }
    .row { display: flex; gap: 8px; }
    .row .btn { flex: 1; padding: 10px; border-radius: 8px; border: 1px solid var(--line); background: #fff; }
    .row .btn.primary { background: var(--accent); color: #fff; border-color: var(--accent-weak); }
    .admin-list { margin-top: 10px; border-top: 1px solid var(--line); }
    .admin-item {
      display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;
      padding: 8px 0; border-bottom: 1px solid var(--line);
    }
    .toast {
      position: fixed; left: 50%; bottom: 88px; transform: translateX(-50%);
      background: #111; color: #fff; padding: 10px 12px; border-radius: 8px; font-size: 14px; display: none; z-index: 50;
    }
    .success { color: var(--ok); font-weight: 700; }
  </style>
</head>
<body>

  <header>
    –ù–∞—à–µ –º–µ–Ω—é
    <!-- —Å–µ–∫—Ä–µ—Ç–Ω–∞ –∑–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥—É –≤ –∞–¥–º—ñ–Ω–∫—É: –ø–æ—Ç—Ä—ñ–π–Ω–∏–π —Ç–∞–ø -->
    <div class="tap-zone" id="tap-zone"></div>
  </header>

  <div class="tabs" id="tabs"></div>

  <main class="menu" id="menu"></main>

  <!-- –ö–æ—à–∏–∫ –∑–Ω–∏–∑—É -->
  <div class="cart-bar" id="cart-bar">
    <div class="summary">
      <span id="cart-count">0 –ø–æ–∑–∏—Ü—ñ–π</span> ¬∑ <span id="cart-total">0 ‚Ç¥</span>
    </div>
    <button id="open-cart">–í—ñ–¥–∫—Ä–∏—Ç–∏</button>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–æ—à–∏–∫–∞ -->
  <div class="modal" id="cart-modal">
    <div class="sheet">
      <h2>–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
      <div id="cart-items"></div>
      <button class="confirm" id="confirm-order">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      <div class="note">–ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –º–∏–ª–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è –≤ —ñ—Å—Ç–æ—Ä—ñ—ó –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó.</div>
    </div>
  </div>

  <!-- –ê–¥–º—ñ–Ω–∫–∞ -->
  <div class="overlay" id="admin-overlay">
    <div class="panel">
      <h3>–ê–¥–º—ñ–Ω‚Äë–ø–∞–Ω–µ–ª—å</h3>

      <div class="field">
        <label>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
        <select id="dish-cat">
          <option>–°—Ç–∞—Ä—Ç–µ—Ä–∏</option>
          <option>–û—Å–Ω–æ–≤–Ω—ñ</option>
          <option>–î–µ—Å–µ—Ä—Ç–∏</option>
          <option>–ù–∞–ø–æ—ó</option>
        </select>
      </div>

      <div class="field">
        <label>–ù–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏</label>
        <input id="dish-name" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –¢—ñ—Ä–∞–º—ñ—Å—É">
      </div>

      <div class="field">
        <label>–û–ø–∏—Å</label>
        <textarea id="dish-desc" rows="3" placeholder="–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å —Å–º–∞–∫—É —Ç–∞ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤"></textarea>
      </div>

      <div class="row">
        <div class="field" style="flex:1">
          <label>–¶—ñ–Ω–∞ (‚Ç¥)</label>
          <input id="dish-price" type="number" step="0.01" placeholder="0.00">
        </div>
        <div class="field" style="flex:1">
          <label>–§–æ—Ç–æ</label>
          <input id="dish-img" type="file" accept="image/*">
        </div>
      </div>

      <div class="img-preview" id="img-preview"></div>

      <div class="row">
        <button class="btn primary" id="save-dish">–ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
        <button class="btn" id="close-admin">–ó–∞–∫—Ä–∏—Ç–∏</button>
      </div>

      <div class="admin-list" id="admin-list"></div>
    </div>
  </div>

  <!-- –¢–æ—Å—Ç–∏ -->
  <div class="toast" id="toast"></div>

<script>
  // ===== –ö–æ–Ω—Ñ—ñ–≥ =====
  const CONFIG = {
    currency: "‚Ç¥",
    adminPasscode: "1234",
    categories: ["–£—Å–µ","–°—Ç–∞—Ä—Ç–µ—Ä–∏","–û—Å–Ω–æ–≤–Ω—ñ","–î–µ—Å–µ—Ä—Ç–∏","–ù–∞–ø–æ—ó"]
  };

  // ===== –°—Ö–æ–≤–∏—â–µ =====
  const store = {
    get(key, def) { try { const v = localStorage.getItem(key); return v ? JSON.parse(v) : def; } catch { return def; } },
    set(key, val) { localStorage.setItem(key, JSON.stringify(val)); }
  };

  let dishes = store.get("dishes", [
    { id: "1", name: "–¢—ñ—Ä–∞–º—ñ—Å—É", description: "–ö–ª–∞—Å–∏—á–Ω–∏–π —ñ—Ç–∞–ª—ñ–π—Å—å–∫–∏–π –¥–µ—Å–µ—Ä—Ç —ñ–∑ –Ω—ñ–∂–Ω–∏–º –∫—Ä–µ–º–æ–º –º–∞—Å–∫–∞—Ä–ø–æ–Ω–µ —Ç–∞ –µ—Å–ø—Ä–µ—Å–æ.", price: 140, imageDataUrl: null, category: "–î–µ—Å–µ—Ä—Ç–∏" },
    { id: "2", name: "–†—ñ–∑–æ—Ç–æ –∑ –≥—Ä–∏–±–∞–º–∏", description: "–ö—Ä–µ–º–æ–≤–∏–π —Ä–∏—Å –∞—Ä–±–æ—Ä—ñ–æ –∑ –ø–µ—á–µ—Ä–∏—Ü—è–º–∏ —Ç–∞ –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º.", price: 240, imageDataUrl: null, category: "–û—Å–Ω–æ–≤–Ω—ñ" },
    { id: "3", name: "–ë—Ä—É—Å–∫–µ—Ç–∞", description: "–ó–∞–ø–µ—á–µ–Ω–∏–π —Ö–ª—ñ–± —ñ–∑ —Ç–æ–º–∞—Ç–∞–º–∏, –±–∞–∑–∏–ª—ñ–∫–æ–º —ñ –æ–ª–∏–≤–∫–æ–≤–æ—é –æ–ª—ñ—î—é.", price: 110, imageDataUrl: null, category: "–°—Ç–∞—Ä—Ç–µ—Ä–∏" }
  ]);
  let currentCat = "–£—Å–µ";
  let cart = store.get("cart", []); // [{id, qty}]
  let orders = store.get("orders", []); // [{items, total, ts}]

  // ===== UI –µ–ª–µ–º–µ–Ω—Ç–∏ =====
  const el = (id) => document.getElementById(id);
  const tabsEl = el("tabs");
  const menuEl = el("menu");
  const cartBarEl = el("cart-bar");
  const cartCountEl = el("cart-count");
  const cartTotalEl = el("cart-total");
  const cartModalEl = el("cart-modal");
  const cartItemsEl = el("cart-items");
  const toastEl = el("toast");

  // –ê–¥–º—ñ–Ω
  const adminOverlayEl = el("admin-overlay");
  const adminListEl = el("admin-list");
  const dishCatEl = el("dish-cat");
  const dishNameEl = el("dish-name");
  const dishDescEl = el("dish-desc");
  const dishPriceEl = el("dish-price");
  const dishImgEl = el("dish-img");
  const imgPreviewEl = el("img-preview");

  // ===== –†–µ–Ω–¥–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ–π =====
  function renderTabs() {
    tabsEl.innerHTML = "";
    CONFIG.categories.forEach(cat => {
      const b = document.createElement("button");
      b.className = "tab" + (cat === currentCat ? " active" : "");
      b.textContent = cat;
      b.onclick = () => { currentCat = cat; renderMenu(); renderTabs(); };
      tabsEl.appendChild(b);
    });
  }

  // ===== –†–µ–Ω–¥–µ—Ä –º–µ–Ω—é =====
  function renderMenu() {
    menuEl.innerHTML = "";
    const list = dishes.filter(d => currentCat === "–£—Å–µ" || d.category === currentCat);
    list.forEach(d => {
      const card = document.createElement("div");
      card.className = "dish";

      const img = document.createElement("img");
      img.src = d.imageDataUrl || "https://via.placeholder.com/300x300?text=–§–æ—Ç–æ";
      card.appendChild(img);

      const info = document.createElement("div");
      info.className = "dish-info";
      const h3 = document.createElement("h3"); h3.textContent = d.name;
      const p = document.createElement("p"); p.textContent = d.description;
      info.appendChild(h3); info.appendChild(p);

      const meta = document.createElement("div");
      meta.className = "meta";
      const price = document.createElement("div");
      price.className = "price"; price.textContent = `${d.price} ${CONFIG.currency}`;
      const add = document.createElement("button");
      add.className = "add-btn"; add.textContent = "–î–æ–¥–∞—Ç–∏";
      add.onclick = () => addToCart(d.id);
      meta.appendChild(price); meta.appendChild(add);

      info.appendChild(meta);
      card.appendChild(info);
      menuEl.appendChild(card);
    });
    updateCartBar();
  }

  // ===== –ö–æ—à–∏–∫ =====
  function addToCart(dishId) {
    const item = cart.find(i => i.id === dishId);
    if (item) item.qty += 1;
    else cart.push({ id: dishId, qty: 1 });
    store.set("cart", cart);
    updateCartBar();
    showToast("–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞");
  }

  function updateCartBar() {
    const totalQty = cart.reduce((s,i)=>s+i.qty,0);
    const totalSum = cart.reduce((s,i)=>{
      const d = dishes.find(x=>x.id===i.id);
      return s + (d ? d.price * i.qty : 0);
    },0);
    cartCountEl.textContent = `${totalQty} –ø–æ–∑–∏—Ü—ñ–π`;
    cartTotalEl.textContent = `${totalSum.toFixed(2)} ${CONFIG.currency}`;
  }

  function openCart() {
    renderCartModal();
    cartModalEl.style.display = "flex";
  }
  function closeCart() {
    cartModalEl.style.display = "none";
  }
  function toggleCart() {
    if (cartModalEl.style.display === "flex") closeCart();
    else openCart();
  }

  function renderCartModal() {
    cartItemsEl.innerHTML = "";
    if (cart.length === 0) {
      cartItemsEl.innerHTML = "<div style='color:#666'>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</div>";
      return;
    }
    cart.forEach(i => {
      const d = dishes.find(x=>x.id===i.id);
      if (!d) return;
      const row = document.createElement("div");
      row.className = "cart-item";
      row.innerHTML = `
        <div><strong>${d.name}</strong><br><span style="color:#666">${d.price} ${CONFIG.currency}</span></div>
        <div class="qty">
          <button aria-label="–º–µ–Ω—à–µ" onclick="decQty('${i.id}')">‚àí</button>
          <span>${i.qty}</span>
          <button aria-label="–±—ñ–ª—å—à–µ" onclick="incQty('${i.id}')">+</button>
        </div>
        <div><strong>${(d.price*i.qty).toFixed(2)} ${CONFIG.currency}</strong></div>
      `;
      cartItemsEl.appendChild(row);
    });
  }
  function incQty(id){ const it=cart.find(i=>i.id===id); if(it){ it.qty++; store.set("cart",cart); renderCartModal(); updateCartBar(); }}
  function decQty(id){
    const it=cart.find(i=>i.id===id);
    if(!it) return;
    it.qty--; if(it.qty<=0) cart = cart.filter(x=>x.id!==id);
    store.set("cart", cart); renderCartModal(); updateCartBar();
  }

  function confirmOrder() {
    if (cart.length === 0) { showToast("–î–æ–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–≤–∏ –¥–æ –∫–æ—à–∏–∫–∞"); return; }
    const totalSum = cart.reduce((s,i)=>{
      const d = dishes.find(x=>x.id===i.id); return s + (d ? d.price * i.qty : 0);
    },0);
    orders.push({ items: cart.slice(), total: totalSum, ts: Date.now() });
    store.set("orders", orders);
    cart = []; store.set("cart", cart);
    updateCartBar();
    closeCart();
    showToast("–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ üíï");
  }

  // ===== –¢–æ—Å—Ç–∏ =====
  let toastTimer = null;
  function showToast(msg) {
    toastEl.textContent = msg;
    toastEl.style.display = "block";
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=>{ toastEl.style.display = "none"; }, 1800);
  }

  // ===== –ü—Ä–∏—Ö–æ–≤–∞–Ω–∏–π –∞–¥–º—ñ–Ω‚Äë–≤—Ö—ñ–¥ (–ø–æ—Ç—Ä—ñ–π–Ω–∏–π —Ç–∞–ø —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –ø—Ä–∞–≤–æ–º—É –∫—É—Ç—ñ) =====
  const tapZone = document.getElementById("tap-zone");
  let tapCount = 0, tapTimer = null;
  tapZone.addEventListener("click", ()=> {
    tapCount++;
    clearTimeout(tapTimer);
    tapTimer = setTimeout(()=>{ tapCount = 0; }, 1200);
    if (tapCount >= 3) {
      tapCount = 0;
      const pass = prompt("–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞:");
      if (pass === CONFIG.adminPasscode) openAdmin();
      else showToast("–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å");
    }
  });

  // ===== –ê–¥–º—ñ–Ω–∫–∞: –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è, –¥–æ–¥–∞–≤–∞–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è =====
  let editingId = null;

  function openAdmin() {
    adminOverlayEl.style.display = "flex";
    renderAdminList();
  }
  function closeAdmin() {
    adminOverlayEl.style.display = "none";
    clearAdminForm();
  }
  document.getElementById("close-admin").onclick = closeAdmin;

  function clearAdminForm() {
    editingId = null;
    dishCatEl.value = "–°—Ç–∞—Ä—Ç–µ—Ä–∏";
    dishNameEl.value = "";
    dishDescEl.value = "";
    dishPriceEl.value = "";
    dishImgEl.value = "";
    imgPreviewEl.style.backgroundImage = "none";
  }

  // –ü—Ä–µ–≤‚Äô—é —Ñ–æ—Ç–æ
  dishImgEl.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = (ev) => {
      imgPreviewEl.style.backgroundImage = `url('${ev.target.result}')`;
      imgPreviewEl.dataset.dataUrl = ev.target.result;
    };
    reader.readAsDataURL(file);
  });

  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∏
  document.getElementById("save-dish").onclick = () => {
    const cat = dishCatEl.value.trim();
    const name = dishNameEl.value.trim();
    const desc = dishDescEl.value.trim();
    const price = parseFloat(dishPriceEl.value);
    const dataUrl = imgPreviewEl.dataset.dataUrl || null;

    if (!name || isNaN(price)) { showToast("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–∞–∑–≤—É —ñ —Ü—ñ–Ω—É"); return; }

    if (editingId) {
      const i = dishes.findIndex(d=>d.id===editingId);
      if (i >= 0) {
        dishes[i] = { ...dishes[i], name, description: desc, price, category: cat, imageDataUrl: dataUrl ?? dishes[i].imageDataUrl };
      }
      showToast("–°—Ç—Ä–∞–≤—É –æ–Ω–æ–≤–ª–µ–Ω–æ");
    } else {
      dishes.push({ id: String(Date.now()), name, description: desc, price, imageDataUrl: dataUrl, category: cat });
      showToast("–°—Ç—Ä–∞–≤—É –∑–±–µ—Ä–µ–∂–µ–Ω–æ");
    }
    store.set("dishes", dishes);
    clearAdminForm();
    renderAdminList();
    renderMenu();
  };

  function renderAdminList() {
    adminListEl.innerHTML = "<h4 style='margin:10px 0'>–°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–≤</h4>";
    dishes.forEach(d => {
      const row = document.createElement("div");
      row.className = "admin-item";
      row.innerHTML = `
        <div><strong>${d.name}</strong><br><span style="color:#666">${d.category}</span></div>
        <button class="btn" onclick="editDish('${d.id}')">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
        <button class="btn" onclick="delDish('${d.id}')">–í–∏–¥–∞–ª–∏—Ç–∏</button>
      `;
      adminListEl.appendChild(row);
    });
  }

  window.editDish = (id) => {
    const d = dishes.find(x=>x.id===id);
    if (!d) return;
    editingId = id;
    dishCatEl.value = d.category || "–°—Ç–∞—Ä—Ç–µ—Ä–∏";
    dishNameEl.value = d.name || "";
    dishDescEl.value = d.description || "";
    dishPriceEl.value = d.price ?? "";
    imgPreviewEl.style.backgroundImage = d.imageDataUrl ? `url('${d.imageDataUrl}')` : "none";
    imgPreviewEl.dataset.dataUrl = d.imageDataUrl || "";
  };
  window.delDish = (id) => {
    if (!confirm("–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É?")) return;
    dishes = dishes.filter(d=>d.id!==id);
    store.set("dishes", dishes);
    renderAdminList();
    renderMenu();
    showToast("–°—Ç—Ä–∞–≤—É –≤–∏–¥–∞–ª–µ–Ω–æ");
  };

  // ===== –ü–æ–¥—ñ—ó UI =====
  document.getElementById("open-cart").onclick = openCart;
  cartModalEl.addEventListener("click", (e)=>{ if (e.target === cartModalEl) closeCart(); });
  document.getElementById("confirm-order").onclick = confirmOrder;

  // ===== –°—Ç–∞—Ä—Ç =====
  renderTabs(); renderMenu();

</script>
</body>
</html>
